(function(a){var u=!1;if(a(document).on("add.cards change.cards",(function(e){a(e.target).hasClass("mbr-slider-ext")&&a(this).on("slid.bs.carousel",(function(e,t){a(e.relatedTarget).closest("section").hasClass("mbr-slider-ext")&&(a(e.relatedTarget).parent().find(".carousel-item").not(".prev.right").removeClass("kenberns"),a(e.relatedTarget).addClass("kenberns"))}))})),a("html").hasClass("is-builder")&&a(document).on("add.cards change.cards",(function(e){if(a(e.target).hasClass("extTestimonials1")||a(e.target).hasClass("extTestimonials3")){if(setTimeout((function(){a(window).trigger("resize")}),100),a(e.target).hasClass("extTestimonials3")){var t=a(e.target).find(".carousel-inner").attr("data-visible");a(e.target).find(".carousel-inner").attr("class","carousel-inner slides"+t),a(e.target).find(".clonedCol").remove(),a(e.target).find(".carousel-item .col-md-12").each((function(){2>t?a(this).attr("class","col-md-12"):5==t?a(this).attr("class","col-md-12 col-lg-15"):a(this).attr("class","col-md-12 col-lg-"+12/t)})),a(e.target).find(".carousel-item").each((function(){for(var e=a(this),n=1;n<t;n++){(e=e.next()).length||(e=a(this).siblings(":first"));var i=e.index();e.find(".col-md-12:first").clone(!0).addClass("cloneditem-"+n).addClass("clonedCol").attr("data-cloned-index",i).appendTo(a(this).children().eq(0))}}))}a(e.target).hasClass("extTestimonials3")&&!u&&(u=!0,a(this).on("slide.bs.carousel","section.extTestimonials3",(function(e){var t=a(e.target).find(".carousel-inner").attr("data-visible");a(e.target).find(".clonedCol").remove(),a(e.target).find(".carousel-item").each((function(){for(var e=a(this),n=1;n<t;n++){(e=e.next()).length||(e=a(this).siblings(":first"));var i=e.index();e.find(".col-md-12:first").clone(!0).addClass("cloneditem-"+n).addClass("clonedCol").attr("data-cloned-index",i).appendTo(a(this).children().eq(0))}}))})))}})),!a("html").hasClass("is-builder")){0<a("section.extTestimonials1:not(.extTestimonials5)").length&&(a(window).on("resize",(function(){a("section.extTestimonials1:not(.extTestimonials5)").each((function(){var e=[],t=a(this).find(".carousel-item.active").index();a(this).find(".carousel-item .card-block").css("min-height","0"),a(this).find(".carousel-item").addClass("active"),a(this).find(".carousel-item").each((function(){e.push(a(this).find(".card-block")[0].offsetHeight)})),a(this).find(".carousel-item").removeClass("active").eq(t).addClass("active");var n=Math.max.apply(null,e);a(this).find(".carousel-item").each((function(){a(this).find(".card-block").css("min-height",n+"px")}))}))})),setTimeout((function(){a(window).trigger("resize")}),100)),a(document).on("add.cards change.cards",(function(e){if((a(e.target).hasClass("extTestimonials1")||a(e.target).hasClass("extTestimonials3"))&&((0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))&&a(e.target).find(".card-block").each((function(){a(this).css("display","block")})),a(e.target).hasClass("extTestimonials3"))){var t=a(e.target).find(".carousel-inner").attr("data-visible");2>t||(a(e.target).find(".carousel-inner").attr("class","carousel-inner slides"+t),a(e.target).find(".carousel-item .col-md-12").each((function(){5==t?a(this).attr("class","col-md-12 col-lg-15"):a(this).attr("class","col-md-12 col-lg-"+12/t)})),a(e.target).find(".carousel-item").each((function(){for(var e=a(this),n=1;n<t;n++)(e=e.next()).length||(e=a(this).siblings(":first")),e.find(".col-md-12:first").clone().addClass("cloneditem-"+n).appendTo(a(this).children().eq(0))})))}})),a(document).ready((function(){a(".counters").length&&a(".counters").viewportChecker({offset:200,callbackFunction:function(e,t){a("#"+e.attr("id")+" .count").each((function(){a(this).prop("Counter",0).animate({Counter:a(this).text()},{duration:3e3,easing:"swing",step:function(e){a(this).text(Math.ceil(e))}})}))}}),a(".pie_progress").length&&(a(".pie_progress").asPieProgress({namespace:"asPieProgress",classes:{element:"pie_progress",number:"pie_progress__number"},min:0,max:100,size:150,speed:40,barcolor:"#c0a375",barsize:"10",trackcolor:"#f2f2f2",fillcolor:"none",easing:"ease",numberCallback:function(a){return Math.round(this.getPercentage(a))+"%"},contentCallback:null}),a(".extProgressBarRound").viewportChecker({offset:150,callbackFunction:function(e,t){a("#"+e.attr("id")+" .pie_progress").asPieProgress("start")}}))})),a(document).ready((function(){if(a(".modalWindow-video iframe").length){var e=a(".modalWindow-video iframe")[0].contentWindow,t=function(){a(".modalWindow").css("display","table").click((function(){a(".modalWindow").css("display","none"),e.postMessage('{"event":"command","func":"pauseVideo","args":""}',"*")}))};a(".intro-play-btn").click((function(){t(),e.postMessage('{"event":"command","func":"playVideo","args":""}',"*")})),a(".intro-play-btn-figure").click((function(a){a.preventDefault(),t(),e.postMessage('{"event":"command","func":"playVideo","args":""}',"*")}))}})),a(".panel-group").find(".panel-heading").each((function(e){a(this).click((function(){var e=a(this).children("span");a(e).hasClass("pseudoMinus")?a(e).removeClass("pseudoMinus").addClass("pseudoPlus").parent().removeClass("theme-border"):(a(".panel-group").find(".signSpan").each((function(){a(this).removeClass("pseudoMinus").addClass("pseudoPlus").parent().removeClass("theme-border")})),a(e).removeClass("pseudoPlus").addClass("pseudoMinus"),a(e).parent().addClass("theme-border"))}))})),a(document).find(".panel-group").each((function(){a(this).find(".panel-collapse").hasClass("in")&&a(this).find(".signSpan:eq(0)").parent().addClass("theme-border")})),a(".toggle-panel").find(".panel-heading").each((function(e){a(this).click((function(){var e=a(this).children("span");a(e).hasClass("pseudoMinus")?a(e).removeClass("pseudoMinus").addClass("pseudoPlus").parent().css("border",""):a(e).removeClass("pseudoPlus").addClass("pseudoMinus").parent().css("border","")}))}));var w=function(){var b=a(this),c=[],e=function(a){return new google.maps.LatLng(a[0],a[1])},d=a.extend({zoom:14,type:"ROADMAP",center:null,markerIcon:null,showInfo:!0},eval("("+(b.data("google-map-params")||"{}")+")"));if(b.find(".mbr-google-map__marker").each((function(){var e=a(this).data("coordinates");e&&c.push({coord:e.split(/\s*,\s*/),icon:a(this).data("icon")||d.markerIcon,content:a(this).html(),template:a(this).html("{{content}}").removeAttr("data-coordinates data-icon")[0].outerHTML})})).end().html("").addClass("mbr-google-map--loaded"),c.length){var g=this.Map=new google.maps.Map(this,{scrollwheel:!1,draggable:!a.isMobile(),zoom:d.zoom,mapTypeId:google.maps.MapTypeId[d.type],center:e(d.center||c[0].coord)});a(window).smartresize((function(){var a=g.getCenter();google.maps.event.trigger(g,"resize"),g.setCenter(a)})),g.Geocoder=new google.maps.Geocoder,g.Markers=[],a.each(c,(function(a,t){var n=new google.maps.Marker({map:g,position:e(t.coord),icon:t.icon,animation:google.maps.Animation.DROP}),i=n.InfoWindow=new google.maps.InfoWindow;i._setContent=i.setContent,i.setContent=function(a){return this._setContent(a?t.template.replace("{{content}}",a):"")},i.setContent(t.content),google.maps.event.addListener(n,"click",(function(){i.anchor&&i.anchor.visible?i.close():i.getContent()&&i.open(g,n)})),t.content&&d.showInfo&&google.maps.event.addListenerOnce(n,"animation_changed",(function(){setTimeout((function(){i.open(g,n)}),350)})),g.Markers.push(n)}))}};a(document).on("add.cards",(function(e){window.google&&google.maps&&a(e.target).outerFind(".mbr-google-map").each((function(){w.call(this)}))})),a(document).on("add.cards change.cards",(function(e){if((e=a(e.target)).hasClass("extTable1")){var t=e.find(".table-wrapper"),n="true"===t.attr("data-search");if(n)var i=t.attr("search-text"),s=t.attr("info1-text"),o=t.attr("info2-text"),r=t.attr("info3-text"),l=t.attr("info4-text");e.find(".table").DataTable({retrieve:!0,paging:!1,aaSorting:[],scrollX:!0,searching:n,info:n,language:{search:i,info:s+" _END_ "+o,infoEmpty:s+" _END_ "+o,infoFiltered:r+" _MAX_ "+l}})}}))}a(document).on("add.cards",(function(e){a(e.target).find(".panel-group, .toggle-panel").length&&a(e.target).on("shown.bs.collapse hidden.bs.collapse",(function(e){a(window).trigger("update.parallax")}))})),initCountdown=function(){a(".countdown:not(.countdown-inited)").each((function(){a(this).addClass("countdown-inited").countdown(a(this).attr("data-end"),(function(e){a(this).html(e.strftime('<div class="row"><div class="col-xs-3 col-sm-3"><span class="number-wrap"><span class="number">%D</span><span class="period">Days</span><div class="bottom1"></div><div class="bottom2"></div><span class="dot">:</span></span></div><div class="col-xs-3 col-sm-3"><span class="number-wrap"><span class="number">%H</span><span class="period">Hours</span><div class="bottom1"></div><div class="bottom2"></div><span class="dot">:</span></span></div><div class="col-xs-3 col-sm-3"><span class="number-wrap"><span class="number">%M</span><span class="period">Minutes</span><div class="bottom1"></div><div class="bottom2"></div><span class="dot">:</span></span></div><div class="col-xs-3 col-sm-3"><span class="number-wrap"><span class="number">%S</span><span class="period">Seconds</span><div class="bottom1"></div><div class="bottom2"></div></span></div></div>'))}))})),a(".countdown:not(.countdown-inited)").each((function(){a(this).countdown(a(this).attr("data-end"),(function(e){a(this).text(e.strftime("%D days %H:%M:%S"))}))}))},0!=a(".countdown").length&&initCountdown(),move=function(e){e.width(),a("html").hasClass("is-builder")||e.css("animation",Math.round(parseInt(e.width())/100)+"s floatingText linear infinite")};for(var v=0;2>v;v++)a(".bgTextP").each((function(){a(this).clone().appendTo(a(this).parent())}));if(a(".bgTextP").css("padding-left",window.screen.width/2+"px"),a(".wrapper-absolute").each((function(){move(a(this))})),initTyped=function(e,t,n,i){a(i).typed({strings:[e,t,n],typeSpeed:parseInt(a(i).attr("typeSpeed")),backSpeed:parseInt(a(i).attr("typeSpeed")),loop:!0,backDelay:1e3})},0!=a(".element").length&&a(".element").each((function(){initTyped(a(this).attr("firstel"),a(this).attr("secondel"),a(this).attr("thirdel"),"."+a(this).attr("adress"))})),initToplineMenu=function(){this.onscroll=function(){0!=window.pageYOffset?a(".top-menu").css("display","none"):a(".top-menu").css("display","table")}},moveToplineMenu=function(){a(window).resize((function(){var e=a(".nav-dropdown-sm"),t=a(".nav-dropdown.collapse");a(".top-menu");var n=a(".top-menu").children().clone();768>parseInt(a(window).width())?(e.children(".contacts").remove(),e.children(".social-block").remove(),e.append(n)):(t.children(".contacts").remove(),t.children(".social-block").remove())}))},0!=a(".extMenu1").length&&(initToplineMenu(),moveToplineMenu()),filterShop=function(e,t){var n=3>t?a(".shop-items").children().sort((function(e,n){var i=parseFloat(a(e).attr("price")),s=parseFloat(a(n).attr("price"));return 1==t?i>s?1:i==s?0:-1:i<s?1:i==s?0:-1})):x;a(".shop-items").children().remove();for(var i=0;i<n.length;i++)a(".shop-items").append(n[i]);modalEvents()},0!=a(".extShop1").length){var x=a(".shop-items").children(),l=a(".shop-items").children(),n=a(".sort-buttons .filter-by-pu .btn"),p=a(".sort-buttons .filter-by-pd .btn"),t=a(".sort-buttons .filter-by-d .btn");a(".filter-by-pu").on("click",(function(){a(n).removeClass("disableSortButton"),a(p).addClass("disableSortButton"),a(t).addClass("disableSortButton"),filterShop(l,1)})),a(".filter-by-pd").on("click",(function(){a(p).removeClass("disableSortButton"),a(n).addClass("disableSortButton"),a(t).addClass("disableSortButton"),filterShop(l,2)})),a(".filter-by-d").on("click",(function(){a(t).removeClass("disableSortButton"),a(n).addClass("disableSortButton"),a(p).addClass("disableSortButton"),filterShop(l,3)})),a(".price-range").on("click",(function(){var e=a(".min-input").val(),t=a(".max-input").val();a(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each((function(n,i){parseFloat(a(i).attr("price"))>=parseFloat(e)&&parseFloat(a(i).attr("price"))<=parseFloat(t)?a(i).removeClass("hided-by-price"):a(i).addClass("hided-by-price")}))})),a(".price-range-reset").on("click",(function(){a(".max-input").val(findMaxItemPrice()),a(".min-input").val(findMinItemPrice()),a(".max-toggle").css("right","0"),a(".min-toggle").css("left","0"),a(".range-controls .bar").css("margin-left","0px").css("width","100%"),rangeSliderInit(),a(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each((function(e,t){a(t).removeClass("hided-by-price")}))}))}autoPriceRange=function(){var e=a(".min-input").val(),t=a(".max-input").val();a(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each((function(n,i){parseFloat(a(i).attr("price"))>=parseFloat(e)&&parseFloat(a(i).attr("price"))<=parseFloat(t)?a(i).removeClass("hided-by-price"):a(i).addClass("hided-by-price")}))};var y=a(".mbr-gallery-filter-all");a(document).on("add.cards change.cards",(function(e){var t=a(e.target);if(t.hasClass("extShop1")){var n=[];if(t.find(".mbr-gallery-item").each((function(e){(a(this).attr("data-tags")||"").trim().split(",").map((function(e){e=e.trim(),-1==a.inArray(e,n)&&n.push(e)}))})),0<t.find(".mbr-gallery-filter").length&&a(e.target).find(".mbr-gallery-filter").hasClass("gallery-filter-active")){var i="";t.find(".mbr-gallery-filter ul li:not(li:eq(0))").remove(),n.map((function(a){i+="<li>"+a+"</li>"})),t.find(".mbr-gallery-filter ul").append(y).append(i),t.on("click",".mbr-gallery-filter li",(function(e){$li=a(this),$li.parent().find("li").removeClass("active"),$li.addClass("active");var n=$li.closest("section").find(".mbr-gallery-row"),i=$li.html().trim();t.find(".mbr-gallery-item:not(.bestsellers .mbr-gallery-item)").each((function(e,t){var n=a(this);tagsTrimmed=n.attr("data-tags").split(",").map((function(a){return a.trim()})),-1!=a.inArray(i,tagsTrimmed)||$li.hasClass("mbr-gallery-filter-all")?n.removeClass("mbr-gallery-item__hided"):(n.addClass("mbr-gallery-item__hided"),setTimeout((function(){n.css("left","300px")}),200))})),setTimeout((function(){n.closest(".mbr-gallery-row").trigger("filter")}),50)}))}else t.find(".mbr-gallery-item__hided").removeClass("mbr-gallery-item__hided"),t.find(".mbr-gallery-row").trigger("filter")}})),findMaxItemPrice=function(){var e=0;return a(".mbr-gallery-item").each((function(t,n){parseFloat(a(n).attr("price"))>e&&(e=parseFloat(a(n).attr("price")))})),e},findMinItemPrice=function(){var e=1e6;return a(".mbr-gallery-item").each((function(t,n){parseFloat(a(n).attr("price"))<e&&(e=parseFloat(a(n).attr("price")))})),e},rangeSliderInit=function(){var e=a("input.min-input"),t=a("input.max-input"),n=a("div.range-controls"),i=n.find("div.bar"),s=n.find("div.min-toggle"),o=n.find("div.max-toggle"),r=i.innerWidth()-20,l=0,c=r,d=n.offset().left,m=e.val(),p=t.val(),u=e.val(),f=parseInt(a(".filter-cost").width())-20;s.mousedown((function(){a(document).on("mousemove",(function(t){o.css("z-index",0),s.css("z-index",1),togglePos=Math.round(t.pageX-d)-10,l=0>=togglePos?0:togglePos>=r?r:togglePos,s.css({left:function(a,e){return l<c?m=l:(m=p,c)}}),i.css({"margin-left":function(){return l<c?l:c},width:function(){return l<c?r-(l+(r-c)):0}}),a(e).val(Math.floor((findMaxItemPrice()-findMinItemPrice())/f*m)+parseInt(u)),autoPriceRange()}))})),o.mousedown((function(){a(document).on("mousemove",(function(e){o.css("z-index",1),s.css("z-index",0),togglePos=Math.round(e.pageX-d)-10,c=0>=togglePos?0:togglePos>=r?r:togglePos,o.css({right:function(a,e){return l<c?(p=c,r-c):(p=m,r-l)}}),i.css({width:function(){return l<c?r-(l+(r-c)):0}}),a(t).val(Math.ceil((findMaxItemPrice()-findMinItemPrice())/f*p)+parseInt(u)),autoPriceRange()}))})),a(document).mouseup((function(){a(document).off("mousemove")}))},0!=a(".extShop1").length&&a(document).ready((function(){a("input[name=max]").attr("value",findMaxItemPrice()),a("input[name=min]").attr("value",findMinItemPrice()),"block"==a(".range-slider").css("display")&&rangeSliderInit()})),a("html").hasClass("is-builder")||(moveToModal=function(e){var t=a(".shopItemsModal"),n=a(e).find(".sidebar_wraper").clone(),i=a(e).find("img").clone();e=a(e).find(".onsale").clone(),a(t).children(".text-modal").append(n),a(t).children(".image-modal").append(i).append(e)},cleanModal=function(){var e=a(".shopItemsModal");a(e).children(".text-modal").empty(),a(e).children(".image-modal").empty()},modalEvents=function(){a(".extShop1 .mbr-gallery-item .galleryItem .item_overlay").on("click",(function(e){e=a(e.target).closest(".mbr-gallery-item"),cleanModal(),moveToModal(e),a(".shopItemsModal_wraper").css("display","block")})),a(".close-modal-wrapper, .shopItemsModalBg").on("click",(function(){a(".shopItemsModal_wraper").css("display","none"),cleanModal()}))},0!=a(".extShop1").length&&(a(document).ready((function(){l=a(".shop-items").children(),filterShop(l,3)})),null!==navigator.userAgent.match(/(iPad)|(iPhone)|(iPod)|(Android)|(PlayBook)|(BB10)|(BlackBerry)|(Opera Mini)|(IEMobile)|(webOS)|(MeeGo)/i)||void 0!==document.createTouch||"ontouchstart"in window||"onmsgesturechange"in window||navigator.msMaxTouchPoints?(a(".range-controls").css("display","none"),a(".price-controls, .filter-cost").css("margin-bottom","15px")):(a("input.min-input, input.max-input").prop("disabled",!0),a(".filterPriceRange").css("display","none"))))})(jQuery);